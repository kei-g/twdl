<!DOCTYPE html>
<html lang="ja">

<head>
  <link href="main.css" rel="stylesheet" type="text/css" />
  <meta charset="UTF-8" />
  <meta content="default-src 'self' 'unsafe-inline' https://twitter.com/ https://x.com/ https://fonts.cdnfonts.com/" http-equiv="Content-Security-Policy" />
  <meta content="initial-scale=1,width=device-width" name="viewport" />
  <script defer src="main.js" type="module"></script>
  <title>Twitter画像ダウンローダー</title>
</head>

<body>
  <header>
    <h1>Twitter画像ダウンローダー</h1>
  </header>

  <main>
    <div id="control">
      <fieldset>
        <label for="source-file">JSファイル</label>
        <input accept="text/javascript" id="source-file" type="file" />
      </fieldset>
      <fieldset class="fit-content">
        <button disabled id="begin-download">開始</button>
        <button disabled id="cancel-download">キャンセル</button>
      </fieldset>
      <fieldset>
        <span>
          <label for="since">開始日</label>
          <input data-config-at="range.since" id="since" type="date" />
        </span>
        <span>
          <label for="until">終了日</label>
          <input data-config-at="range.until" id="until" type="date" />
        </span>
        <button disabled id="select-by-date-range">絞り込み</button>
        <button id="clear-date-ranges">クリア</button>
      </fieldset>
      <p>
        <button id="configure">設定</button>
      </p>
    </div>

    <div id="panes">
      <webview id="webview" nodeintegration preload="preload.cjs" src="https://twitter.com/home" webpreferences="autoplayPolicy=user-gesture-required,contextIsolation=true,disableHtmlFullscreenWindowResize=true,images=false,nodeIntegration=false,safeDialogs=true,sandbox=true,webSecurity=true"></webview>
      <div class="hidden" id="right-pane">
        <p class="tooltip">
          <span class="tooltip-text"></span>
          <label for="progress">進捗</label>
          <progress id="progress"></progress>
          <span id="percent"></span>
        </p>
        <textarea id="status" readonly></textarea>
      </div>
    </div>
  </main>

  <footer id="footer">
    <span class="sm" id="left-status"></span>
    <span class="sm" id="center-status"></span>
    <span class="sm" id="right-status"></span>
  </footer>

</body>

</html>
